<hr>
<p>title: 饿汉模式<br>toc: true<br>tags:</p>
<ul>
<li>Java<br>categories:</li>
<li>Java<br>date: 2022-11-03 13:31:33</li>
</ul>
<hr>
<p><img src="/1-%E9%A5%BF%E6%B1%89%E6%A8%A1%E5%BC%8F/image-20221103155324261.png" alt="image-20221103155324261"></p>
<p>Runtime 饿汉模式</p>
<ol>
<li>饿汉<ol>
<li>在对象加载时就创建对象</li>
<li>可能存在资源量浪费问题</li>
</ol>
</li>
<li>懒汉<ol>
<li>在调用 getInstance 才会创建</li>
<li>有线程安全问题</li>
</ol>
</li>
</ol>
<h4 id="一、饿汉"><a href="#一、饿汉" class="headerlink" title="一、饿汉"></a>一、饿汉</h4><pre><code class="java">package com.jhfuture.single_;

public class SingleTon01 {
    public static void main(String[] args) {
/*
* 饿汉模式 ---&gt;只能有一个对象
* 1.构造器私有化 》防止直接 new
* 2.类的内部创建对象
* 3.向外暴露一个 getInstance方法。
* */

        System.out.println(GirlFriend.getInstance());
        System.out.println(GirlFriend.getInstance());

    }
}


  class GirlFriend{
    private  String name;

    private static GirlFriend girlFriend = new GirlFriend(&quot;小谭&quot;);

    public static   GirlFriend getInstance(){
        return girlFriend;
    }
    private GirlFriend(String name){
        this.name=name;
    }
}
</code></pre>
<h4 id="二、懒汉"><a href="#二、懒汉" class="headerlink" title="二、懒汉"></a>二、懒汉</h4><pre><code class="java">package com.jhfuture.single_;
//懒汉模式
//
public class singleTon2 {
    public static void main(String[] args) {
        System.out.println(Cat.getInstance());
    }
}
class Cat{
    static Cat cat;
    static int age=99;
    private String name;
    public static Cat getInstance(){
        if (cat==null){
            cat=new Cat(&quot;小红&quot;);
        }
        return cat;
  }

    public Cat(String name) {
        System.out.println(&quot;调用了&quot;);
        this.name = name;
    }

    @Override
    public String toString() {
        return  name;
    }
}
</code></pre>
